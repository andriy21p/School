{% extends 'base.html' %}
{% block content %}
    <div class="container">
        <p>Message app!</p>
        <!-- Messages generated in message/views.py. Filter by logged in receiver. -->
        <div class="accordion" id="accordionExample">
        {% for message in messages %}
            {% if forloop.first %}
              <div class="accordion-item">
                <h2 class="accordion-header" id="{{ message.id }}">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      # {{ forloop.counter }}  - Sent: {{ message.msg_sent }} | {{ message.msg_subject }}
                  </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="{{ message.id }}" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                      {{ message.msg_body }}
                  </div>
                </div>
              </div>
            {% else %}
              <div class="accordion-item">
                <h2 class="accordion-header" id="{{ message.id }}">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      # {{ forloop.counter }}  - Sent: {{ message.msg_sent }} | {{ message.msg_subject }}
                  </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                      {{ message.msg_body }}
                  </div>
                </div>
              </div>
            {% endif %}

           <!-- {% include "message/msg_inbox.html" with message=message %} -->
        {% endfor %}
        <div>
    </div>
{% endblock %}